# Contributing to YOP MCP Server

æ„Ÿè°¢æ‚¨å¯¹ YOP MCP Server é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•ã€é—®é¢˜æŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **Fork å¹¶å…‹éš†ä»“åº“**
   ```bash
   git clone http://gitlab.yeepay.com/your-username/yop-mcp.git
   cd yop-mcp
   ```

2. **å®‰è£… uv åŒ…ç®¡ç†å™¨**
   ```bash
   # Windows
   pip install uv
   
   # Linux/Mac
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   uv sync --all-extras
   ```

4. **å®‰è£… pre-commit hooks**
   ```bash
   uv run pre-commit install
   ```

5. **è¿è¡Œæµ‹è¯•ç¡®ä¿ç¯å¢ƒæ­£å¸¸**
   ```bash
   uv run pytest
   ```

## ğŸ“ è´¡çŒ®ç±»å‹

### ğŸ› Bug æŠ¥å‘Š
- ä½¿ç”¨ [Bug Report Template](http://gitlab.yeepay.com/yop/yop-mcp/-/issues/new?issuable_template=bug_report)
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«é”™è¯¯ä¿¡æ¯å’Œç¯å¢ƒä¿¡æ¯
- å¦‚æœå¯èƒ½ï¼Œæä¾›æœ€å°é‡ç°ç¤ºä¾‹

### âœ¨ åŠŸèƒ½è¯·æ±‚
- ä½¿ç”¨ [Feature Request Template](http://gitlab.yeepay.com/yop/yop-mcp/-/issues/new?issuable_template=feature_request)
- æ¸…æ¥šæè¿°åŠŸèƒ½éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯
- è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¸ªåŠŸèƒ½å¯¹é¡¹ç›®æœ‰ä»·å€¼

### ğŸ“š æ–‡æ¡£æ”¹è¿›
- ä¿®å¤æ–‡æ¡£ä¸­çš„é”™è¯¯æˆ–ä¸å‡†ç¡®ä¿¡æ¯
- æ·»åŠ ç¼ºå¤±çš„æ–‡æ¡£
- æ”¹è¿›ç°æœ‰æ–‡æ¡£çš„æ¸…æ™°åº¦
- æ·»åŠ ä½¿ç”¨ç¤ºä¾‹

### ğŸ§ª æµ‹è¯•
- å¢åŠ æµ‹è¯•è¦†ç›–ç‡
- æ”¹è¿›ç°æœ‰æµ‹è¯•
- æ·»åŠ é›†æˆæµ‹è¯•
- æ€§èƒ½æµ‹è¯•

## ğŸ”§ å¼€å‘æµç¨‹

### 1. åˆ›å»ºåˆ†æ”¯
```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

### 2. å¼€å‘è§„èŒƒ

#### ä»£ç é£æ ¼
- ä½¿ç”¨ [Black](https://black.readthedocs.io/) è¿›è¡Œä»£ç æ ¼å¼åŒ–
- ä½¿ç”¨ [isort](https://pycqa.github.io/isort/) è¿›è¡Œå¯¼å…¥æ’åº
- éµå¾ª [PEP 8](https://www.python.org/dev/peps/pep-0008/) ç¼–ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£ï¼ˆType Hintsï¼‰

#### æäº¤ä¿¡æ¯è§„èŒƒ
ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

ç±»å‹åŒ…æ‹¬ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

ç¤ºä¾‹ï¼š
```
feat(api): add new certificate validation function

Add support for SM2 certificate validation with enhanced error handling.

Closes #123
```

### 3. æµ‹è¯•è¦æ±‚

#### å•å…ƒæµ‹è¯•
- æ–°åŠŸèƒ½å¿…é¡»åŒ…å«ç›¸åº”çš„å•å…ƒæµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡ä¸ä½äº 80%
- ä½¿ç”¨ pytest æ¡†æ¶

```bash
# è¿è¡Œæµ‹è¯•
uv run pytest

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
uv run pytest --cov=tools --cov=main --cov-report=html
```

#### é›†æˆæµ‹è¯•
- å¯¹äºæ¶‰åŠå¤–éƒ¨APIçš„åŠŸèƒ½ï¼Œæä¾›mockæµ‹è¯•
- ç¡®ä¿æµ‹è¯•åœ¨CIç¯å¢ƒä¸­èƒ½å¤Ÿç¨³å®šè¿è¡Œ

### 4. ä»£ç è´¨é‡æ£€æŸ¥

åœ¨æäº¤å‰ï¼Œè¯·ç¡®ä¿é€šè¿‡æ‰€æœ‰è´¨é‡æ£€æŸ¥ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
uv run black .
uv run isort .

# ä»£ç æ£€æŸ¥
uv run flake8 .
uv run mypy tools/ main.py --ignore-missing-imports
uv run pylint tools/ main.py

# å®‰å…¨æ£€æŸ¥
uv run bandit -r tools/ main.py

# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
uv run pre-commit run --all-files
```

### 5. æäº¤ Pull Request

1. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/your-feature-name
   ```

2. **åˆ›å»º Pull Request**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å’Œæè¿°
   - å¼•ç”¨ç›¸å…³çš„ Issue
   - æ·»åŠ é€‚å½“çš„æ ‡ç­¾
   - è¯·æ±‚ä»£ç å®¡æŸ¥

3. **PR æ¨¡æ¿**
   ```markdown
   ## å˜æ›´æè¿°
   ç®€è¦æè¿°æ­¤PRçš„å˜æ›´å†…å®¹

   ## å˜æ›´ç±»å‹
   - [ ] Bug ä¿®å¤
   - [ ] æ–°åŠŸèƒ½
   - [ ] æ–‡æ¡£æ›´æ–°
   - [ ] ä»£ç é‡æ„
   - [ ] æµ‹è¯•æ”¹è¿›

   ## æµ‹è¯•
   - [ ] å·²æ·»åŠ /æ›´æ–°å•å…ƒæµ‹è¯•
   - [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
   - [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡

   ## æ£€æŸ¥æ¸…å•
   - [ ] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
   - [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
   - [ ] å·²æ·»åŠ å¿…è¦çš„æµ‹è¯•
   - [ ] é€šè¿‡æ‰€æœ‰CIæ£€æŸ¥

   ## ç›¸å…³Issue
   Closes #issue_number
   ```

## ğŸ” ä»£ç å®¡æŸ¥

### å®¡æŸ¥æ ‡å‡†
- ä»£ç åŠŸèƒ½æ­£ç¡®æ€§
- ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
- æµ‹è¯•è¦†ç›–ç‡å’Œè´¨é‡
- æ–‡æ¡£å®Œæ•´æ€§
- æ€§èƒ½å½±å“
- å®‰å…¨æ€§è€ƒè™‘

### å®¡æŸ¥æµç¨‹
1. è‡ªåŠ¨åŒ–æ£€æŸ¥å¿…é¡»é€šè¿‡
2. è‡³å°‘ä¸€ä½ç»´æŠ¤è€…å®¡æŸ¥
3. è§£å†³æ‰€æœ‰å®¡æŸ¥æ„è§
4. æœ€ç»ˆæ‰¹å‡†ååˆå¹¶

## ğŸ“‹ å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è§„èŒƒ
éµå¾ª [Semantic Versioning](https://semver.org/)ï¼š
- `MAJOR.MINOR.PATCH`
- MAJOR: ä¸å…¼å®¹çš„APIå˜æ›´
- MINOR: å‘åå…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- PATCH: å‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤
1. æ›´æ–° CHANGELOG.md
2. æ›´æ–°ç‰ˆæœ¬å·
3. åˆ›å»º Git tag
4. è§¦å‘è‡ªåŠ¨å‘å¸ƒæµç¨‹

## ğŸ¤ ç¤¾åŒºå‡†åˆ™

### è¡Œä¸ºå‡†åˆ™
- å°Šé‡æ‰€æœ‰å‚ä¸è€…
- å»ºè®¾æ€§çš„è®¨è®ºå’Œåé¦ˆ
- åŒ…å®¹ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¸“æ³¨äºå¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…

### æ²Ÿé€šæ¸ é“
- **Issues**: ç”¨äºbugæŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- **Pull Requests**: ç”¨äºä»£ç è´¡çŒ®è®¨è®º
- **Discussions**: ç”¨äºä¸€èˆ¬æ€§è®¨è®ºå’Œé—®é¢˜

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœæ‚¨åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¸®åŠ©ï¼š

- æŸ¥çœ‹ [FAQ](README.md#å¸¸è§é—®é¢˜)
- æœç´¢ç°æœ‰çš„ [Issues](http://gitlab.yeepay.com/yop/yop-mcp/-/issues)
- åˆ›å»ºæ–°çš„ Issue å¯»æ±‚å¸®åŠ©
- è”ç³»é¡¹ç›®ç»´æŠ¤è€…

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼æ‚¨çš„è´¡çŒ®è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚

---

**Happy Coding! ğŸ‰**
